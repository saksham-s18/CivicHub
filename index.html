<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Civic Complaint Hub</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <script src="https://unpkg.com/lucide@latest"></script>
    <style>
        body { font-family: 'Inter', sans-serif; }
        .page { display: none; }
        .page.active { display: block; }
        .nav-link {
            cursor: pointer;
            padding: 0.5rem 1rem;
            border-radius: 0.375rem;
            transition: background-color 0.2s;
        }
        .nav-link:hover, .nav-link.active {
            background-color: #4f46e5;
        }
        .card {
            background-color: white;
            border-radius: 0.75rem;
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -2px rgba(0, 0, 0, 0.1);
            transition: all 0.3s ease-in-out;
        }
        .card:hover { transform: translateY(-4px); }
    </style>
</head>
<body class="bg-gray-100 text-gray-800">

    <nav class="bg-indigo-700 text-white shadow-md">
        <div class="container mx-auto px-6 py-3 flex justify-between items-center">
            <a onclick="showPage('home')" class="font-bold text-xl tracking-tight cursor-pointer">CivicHub</a>
            <div class="flex items-center space-x-2">
                <a onclick="showPage('home')" class="nav-link active">Home</a>
                <a onclick="showPage('about')" class="nav-link">About</a>
            </div>
            <div id="auth-links" class="flex items-center space-x-2">
                <a onclick="showPage('auth')" class="nav-link bg-indigo-500 hover:bg-indigo-600">Login / Register</a>
            </div>
             <div id="user-info" class="hidden items-center space-x-4">
                <span id="username-display" class="font-semibold"></span>
                <button id="undo-btn" onclick="handleUndo()" class="hidden nav-link bg-yellow-500 hover:bg-yellow-600 text-sm px-3 py-1">Undo</button>
                <button onclick="handleLogout()" class="nav-link bg-red-500 hover:bg-red-600">Logout</button>
            </div>
        </div>
    </nav>

    <div class="container mx-auto p-4 md:p-8">
        <div id="home" class="page active">
              <header class="text-center mb-10">
                <h1 class="text-4xl md:text-5xl font-bold text-gray-900">Voice Your Concerns</h1>
                <p class="text-gray-600 mt-2">Submit, vote, and track civic issues to build a better community.</p>
            </header>
            <main class="grid grid-cols-1 lg:grid-cols-3 gap-8">
                <div class="lg:col-span-1 space-y-8">
                    <div id="form-container" class="card p-6">
                    </div>
                      <div class="card p-6">
                        <h3 class="text-xl font-semibold mb-3 flex items-center"><i data-lucide="award" class="mr-2"></i>Most Voted Complaint</h3>
                        <div id="most-voted-complaint" class="text-gray-600">No pending complaints.</div>
                    </div>
                </div>
                <div class="lg:col-span-2 space-y-8">
                    <div class="card p-6">
                        <h2 class="text-2xl font-semibold mb-4 border-b pb-2">Pending Issues</h2>
                        <div id="pending-complaints-list" class="space-y-4"></div>
                    </div>
                    <div class="card p-6 bg-gray-50">
                        <h2 class="text-2xl font-semibold mb-4 border-b pb-2 text-gray-600">Resolved Issues</h2>
                        <div id="resolved-complaints-list" class="space-y-4"></div>
                    </div>
                </div>
            </main>
        </div>

        <div id="about" class="page max-w-4xl mx-auto">
              <h1 class="text-4xl font-bold mb-4">About CivicHub</h1>
              <p class="text-lg text-gray-700 leading-relaxed">CivicHub is a community-driven platform designed to empower citizens. Our mission is to provide a transparent and efficient way for people to report local issues, from potholes and broken streetlights to waste management problems. By allowing users to upvote complaints, we help local authorities prioritize the most pressing issues identified by the community itself. This project demonstrates the power of data structures like priority queues (for ranking) and hash maps (for efficient data handling) to solve real-world problems.</p>
        </div>

        <div id="auth" class="page max-w-md mx-auto">
              <div class="card p-8">
                <div class="flex border-b mb-6">
                    <button id="login-tab" onclick="switchAuthTab('login')" class="flex-1 py-2 font-semibold text-indigo-600 border-b-2 border-indigo-600">Login</button>
                    <button id="register-tab" onclick="switchAuthTab('register')" class="flex-1 py-2 font-semibold text-gray-500">Register</button>
                </div>
                <form id="login-form" class="space-y-4">
                    <h2 class="text-2xl font-bold text-center">Welcome Back!</h2>
                      <div>
                        <label for="login-username" class="block text-sm font-medium">Username</label>
                        <input type="text" id="login-username" required class="mt-1 w-full rounded-md border-gray-300 shadow-sm p-2">
                    </div>
                    <div>
                        <label for="login-password" class="block text-sm font-medium">Password</label>
                        <input type="password" id="login-password" required class="mt-1 w-full rounded-md border-gray-300 shadow-sm p-2">
                    </div>
                    <button type="submit" class="w-full bg-indigo-600 text-white font-semibold py-2 rounded-md hover:bg-indigo-700">Login</button>
                </form>
                <form id="register-form" class="hidden space-y-4">
                      <h2 class="text-2xl font-bold text-center">Create Account</h2>
                    <div>
                        <label for="register-username" class="block text-sm font-medium">Username</label>
                        <input type="text" id="register-username" required class="mt-1 w-full rounded-md border-gray-300 shadow-sm p-2">
                    </div>
                    <div>
                        <label for="register-password" class="block text-sm font-medium">Password</label>
                        <input type="password" id="register-password" required class="mt-1 w-full rounded-md border-gray-300 shadow-sm p-2">
                    </div>
                    <button type="submit" class="w-full bg-indigo-600 text-white font-semibold py-2 rounded-md hover:bg-indigo-700">Register</button>
                </form>
                <div id="auth-message" class="mt-4 text-center"></div>
              </div>
        </div>
    </div>

    <script src="script.js" defer></script>
</body>
</html>